<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="btn">按钮</button>
    <script>
        let btn=document.getElementById('btn')

        btn.onclick=function(){
            const promise=new Promise((resolve,reject)=>{
                console.log('promise的同步回调执行了')
              setTimeout(() => {
                //  reject('fail')
                    resolve('ok')
            // console.log(promise)
              }, 2000);

            })
            console.log(1,promise)
         


        /*  promise.then(
             (value)=>{
             console.log('promise成功了',value)
            
             return new Promise((resolve,reject)=>{
                resolve('promise2-xxx')
             })
            
            },
             (value)=>{
                 console.log('promise失败了',value)
                 return new Promise((resolve,reject)=>{
                     resolve('2')
                 })
                
             }
         ) */
         /*  .then(
             (value)=>{
                console.log('prmoise2','成功了',value)
             },
             (value)=>{
                console.log('prmoise2','失败了',value)
            }
           
            
         )  */

         const promise2=promise.then(
             (value)=>{
             console.log('promise成功了',value)
            console.log(1,promise)

            
             return new Promise((resolve,reject)=>{
                resolve('promise2-xxx')
             })
            
            },
             (value)=>{
                 console.log('promise失败了',value)
            console.log(1,promise)

                 return new Promise((resolve,reject)=>{
                     reject('chenggong')
                 })
                
             }
         )
         
          promise2.then(
              (value)=>{
                console.log('promise2', '成功了', value)
                console.log(2,promise2)

              },
              (value)=>{
                console.log('promise2', '失败了', value)
                console.log(2,promise2)

              },
              console.log(2,promise2)
          )
         
         
           
        }
    </script>
</body>
</html>